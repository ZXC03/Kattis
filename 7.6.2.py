def breakingbad():
    n = int(input())
    grocery_list = []
    for i in range(n):
        grocery_list.append(input())
    i = 0

    sus = int(input())
    dic = {}
    verdict = None
    visited = set()
    if node not in visited
    for i in range(sus):
        item = input().split()
        if item[0] in dic.keys():
            dic[item[0]]+= [item[1]]
        else:
            dic.update({item[0]: [item[1]]})
        if item[1] in dic.keys():
            dic[item[1]]+= [item[0]]
        else:
            dic.update({item[1]: [item[0]]})
    
    walter = []
    jesse = []
    for item in grocery_list:
        if item not in a and item not in b:
            a.append(item)
        for stuff in dic[item]:
            if 
            
    verdict = [walter, jesse]
    return verdict

l = breakingbad()
if l == False:
    print("impossible")
else:
    for things in l:
        print(" ".join(things))
                        
                    
                    
    
